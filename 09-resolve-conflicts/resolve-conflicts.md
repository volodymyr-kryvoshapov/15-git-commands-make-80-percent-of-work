# Разрешение конфликтов в файлах

Над проектом обычно работает много людей и когда два разработчика вносят изменения в одну и туже строку в одном и том же файле то при попытке мерджа изменений возникает конфликтная ситуация. GIT сообщает что не понимает изменения из какой ветки в итоге должны быть в этой строке. Конфликтные ситуации очень удобно разрешать с помошью IDE но мы ведь не ищем простых путей, поэтому покажу как это делается через консоль.

1. Представим что наш коллега внес изменения в два файла, смерджил их в ветку `main` и запушил их в удаленный репозиторий. Теперь они доступны другим разработчикам.

Вот что он сделал:

~/Projects/front-end-pro/calc/index.html
```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script src="index.js" async></script>
</head>
<body>
  <h1>Calculator</h1>
</body>
</html>
```

~/Projects/front-end-pro/words-count/index.html
```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script src="index.js" async></script>
</head>
<body>
  <h1>Words count</h1>
</body>
</html>
```

~/Projects/front-end-pro/README.md
```
Домашние работы по курсу Front End Pro
```
Замечу, его изменения уже находятся на удаленном сервере.


Мы тоже решили поправить эти файлы, и внесли локально свои изменения:

~/Projects/front-end-pro/calc/index.html
```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script src="index.js" async></script>
</head>
<body>
  <h1>Калькулятор</h1>
</body>
</html>
```

~/Projects/front-end-pro/words-count/index.html
```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <script src="index.js" async></script>
</head>
<body>
  <h1>Подсчет слов в предложении</h1>
</body>
</html>
```

~/Projects/front-end-pro/README.md
```
Front End Pro домашки
```
Чтоб пример был более понятный я не стал создавать отдельную ветку для фикса.

Сохраняем изменения:
```
git commit -m 'Updated readme and calc header descriptions'
```
Теперь у нас есть проблема потому что я и мой коллега поправили одни и те же строки в одних и тех же файлах.

Далее, я понимаю что за время моего фикса ветка `main` уже могла изменится, и я ожидаю что могут быть конфликты, поэтому, прежде чем отправить мои изменения, в первую очередь, я всегда забираю последние изменения из мастера. Чтобы убедится что нужно что-то забрать из мастера я делаю:
```
git fetch origin
```
Эта команда скачать инфу о новых ветках и их изменениях с удаленного сервера, но при этом НЕ меняет локальные файлы.

Далее мы пишем:
```
git status
```
И теперь гит статус обладая новой инфой подсказывает нам что моя локальная ветка и удаленная отличается на несколько коммитов и что перед отправкой моих изменений мне нужно забрать актуальные с сервера и сделать `gut pull` но я напишу немного другое:
```
git merge origin/master
```
Если бы я написал сразу `git pull` то `git fetch` и `git merge` произошли бы неявно для нас, и мы бы сразу попали в ситуацию разрешения конфликта, поэтому для наглядности я использовал две команды вместо одной.

Далее начинается разрешение конфликта. Посмотрим что происходит введя:
```
git status
```
Мы видим надпись `both modified` она означает что файлы локальные и на удаленном сервере содержит конфликт который нужно решить.

Далее пример который я покажу может немножко напугать, так как вы с этим еще не сталкивались, но в этом нет ничего страшного. Мы открываем файл в редакторе и видим вот что:

~/Projects/front-end-pro/README.md
```
<<<<<<< HEAD
Front End Pro домашние работы
=======
Front End Pro home words
>>>>>>> origin/master
```
Тут Гит говорит нам: 'я обнаружил изменения в одинаковой строке, выбери то которое хочешь оставить'. То которое между HEAD и знаками равно это локальные изменения, а то что между знаками равно и origin/master это изменение с сервера.

Мы выбираем то что хотим оставить у удаляем все лишние символы. В итоге у нас должно получится:

~/Projects/front-end-pro/README.md
```
Front End Pro домашние работы
```
Далее редактируем остальные файлы таким же образом и добавляем изменения в индекс:
```
git add .
```
Cохраняем изменения
```
git commit -m 'fix merge conflicts'
```
Отправляем изменения в удаленный репозиторий:
```
git push
```
Переходим чтоб проверить: https://github.com/volodymyr-kryvoshapov

Смотрим нашу ветку main и видим наши изменения. В readme добавились изменения коллеги, а в два других файла мои изменения. Так и проходит процесс решения конфликтов.

Конфликты случаются не так уж и редко поэтому нужно уметь с ними работать. Процесс разрешения конфликтов максимально упрощает использование IDE.